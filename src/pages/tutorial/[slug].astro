---
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";
import Post from "../../layouts/Post.astro";

type Props = CollectionEntry<"tutorial">;

export async function getStaticPaths() {
	const allTutorials = await getCollection("tutorial");

	return allTutorials.map((tutorial: CollectionEntry<"tutorial">) => {
		return {
			params: {
				slug: tutorial.slug,
			},
			props: tutorial,
		};
	});
}

const tutorial = Astro.props;
const { Content } = await tutorial.render();
---

<Post content={Content} {...tutorial} />
