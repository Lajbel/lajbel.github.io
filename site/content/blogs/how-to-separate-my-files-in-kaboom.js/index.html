<!DOCTYPE html>
<html lang="en"><head>
    <title>How to separate my files in Kaboom.js</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/styles/index.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Mukta&amp;family=Poppins:wght@300&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&amp;family=Tajawal&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
<link rel="icon" href="https://cdn.discordapp.com/attachments/987845845342883920/1148403888978927718/c01e108969c0c85413a95069fef97b31.png">
<meta property="og:type" content="website">
<meta property="og:locale" content="en">
<meta property="og:title" content="How to separate my files in Kaboom.js">
<meta property="og:url" content="http://localhost:3000/content/blogs/how-to-separate-my-files-in-kaboom.js/">
<meta property="og:image" content="http://localhost:3000/images/avatar.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@lajbel">
<link rel="alternate" hreflang="en" href="http://localhost:3000/content/blogs/how-to-separate-my-files-in-kaboom.js/">
</head>

<body>
    <main class="page">
        
<div class="space">
    <nav class="nav">
    <h1 class="nav__title">lajspace</h1>
    <div class="nav__cards-container">
        <div class="
card-folder" id="kaboomjs">
    <div class="card-folder__cover">
        <h2 class="card-folder__title">Kaboom.js Tutorials</h2>
    </div>

    <div class="card-folder__cards-container">
        
        
        
    </div>

</div>
        <div class="
card-folder" id="projects">
    <div class="card-folder__cover">
        <h2 class="card-folder__title">Projects</h2>
    </div>

    <div class="card-folder__cards-container">
        
        
        




<div id="newgroundsjs" class="card  ">
    <img class="card__image" src="https://www.newgrounds.io/img/newgrounds_logo.png" alt="">
    <div class="card__summary" style="
    --card-img: url(&quot;https://www.newgrounds.io/img/newgrounds_logo.png&quot;);
    ">
        <a href="/content/projects/newgroundsjs/" class="card__info">
            <h4 class="card__title card__title--light">Newgrounds.js</h4>
            <p class="card__description">A newgrounds.io api wrapper for Node.js</p>
        </a>
        <div class="card__featured">
            <div class="card__buttons">
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="/content/projects/newgroundsjs/">
        
        <i class="button__icon fa-solid fa-rocket"></i>
    </a>
</button>
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="">
        
        <i class="button__icon fa-brands fa-github"></i>
    </a>
</button>
            </div>

            <div class="card__stack">
                
            </div>
        </div>
    </div>
</div>
        
        
        
        




<div id="mandarina" class="card  ">
    <img class="card__image" src="/images/banners/mandarina.png" alt="">
    <div class="card__summary" style="
    --card-img: url(&quot;/images/banners/mandarina.png&quot;);
    ">
        <a href="/content/projects/mandarina/" class="card__info">
            <h4 class="card__title card__title--light">Mandarina</h4>
            <p class="card__description">A javascript library for creating visual novels.</p>
        </a>
        <div class="card__featured">
            <div class="card__buttons">
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="/content/projects/mandarina/">
        
        <i class="button__icon fa-solid fa-rocket"></i>
    </a>
</button>
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="https://github.com/lajbel/eggou">
        
        <i class="button__icon fa-brands fa-github"></i>
    </a>
</button>
            </div>

            <div class="card__stack">
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon fa-solid fa-chess-rook"></span>game development</strong>
</div>
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon devicon-typescript-plain colored"></span>typescript</strong>
</div>
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon devicon-nodejs-plain colored"></span>nodejs</strong>
</div>
                
            </div>
        </div>
    </div>
</div>
        
        
    </div>

</div>
        <div class="
card-folder" id="games">
    <div class="card-folder__cover">
        <h2 class="card-folder__title">Games</h2>
    </div>

    <div class="card-folder__cards-container">
        
        
        




<div id="eggou" class="card  ">
    <img class="card__image" src="https://i.imgur.com/UgVonEY.png" alt="">
    <div class="card__summary" style="
    --card-img: url(&quot;https://i.imgur.com/UgVonEY.png&quot;);
    ">
        <a href="/content/games/eggou/" class="card__info">
            <h4 class="card__title card__title--light">Eggou</h4>
            <p class="card__description">A flyers chicken shooter, in the bullet hell style.</p>
        </a>
        <div class="card__featured">
            <div class="card__buttons">
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="/content/games/eggou/">
        
        <i class="button__icon fa-solid fa-rocket"></i>
    </a>
</button>
                




<button class="button button--flat button--light button--full">
    <a class="button__link" href="https://github.com/lajbel/eggou">
        
        <i class="button__icon fa-brands fa-github"></i>
    </a>
</button>
            </div>

            <div class="card__stack">
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon fa-solid fa-chess-rook"></span>game development</strong>
</div>
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon devicon-javascript-plain colored"></span>javascript</strong>
</div>
                
                <div class="badge">
    <strong class="badge__text">
        <span aria-hidden="true" class="badge__icon devicon-nodejs-plain colored"></span>nodejs</strong>
</div>
                
            </div>
        </div>
    </div>
</div>
        
        
    </div>

</div>
    </div>
    




<button class="button button--light button--flat">
    <a class="button__link" href="/">
        Check Portfolio
        <i class="button__icon "></i>
    </a>
</button>
    <div class="nav__button">
        <i class="fa-solid fa-caret-right"></i>
    </div>
</nav>
    




<div class="window">
    

<article class="post post--active">
    
    <header class="post__header">
        

        
        <h1 class="post__title">How to separate my files in Kaboom.js</h1>
        

        <img class="post__banner" src="https://cdn.glitch.global/6dc82ede-830f-4296-b221-d0f185e0cf50/ea1106d2-a4eb-49db-837a-c49b3a3a1bdc.image.png?v=1705955046911" alt="Post's banner">
    </header>

    <main class="post__content">
        
        <p class="post__p">It's normal that as our games grow in size, we want to maintain better file organization. In this post, you'll learn a practical way to apply it to your projects.</p>
<h2 class="post__h2">Initial Project</h2>
<p class="post__p">First, let's put ourselves in the situation of a newly started project:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-comment">// Initialize our Kaboom instance</span>
<span class="hljs-keyword">const</span> k = <span class="hljs-title function_">kaboom</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>,
    <span class="hljs-attr">scale</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">background</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
});

<span class="hljs-comment">// Load assets</span>
k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"player"</span>, <span class="hljs-string">"sprites/player.png"</span>);
k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"enemy"</span>, <span class="hljs-string">"sprites/enemy.png"</span>);
k.<span class="hljs-title function_">loadSound</span>(<span class="hljs-string">"shoot"</span>, <span class="hljs-string">"sounds/shoot.wav"</span>);
<span class="hljs-comment">// ...</span>

<span class="hljs-comment">// Our scenes</span>
k.<span class="hljs-title function_">scene</span>(<span class="hljs-string">"main"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// main scene code</span>
});

k.<span class="hljs-title function_">scene</span>(<span class="hljs-string">"gameover"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// gameover scene code</span>
});

<span class="hljs-comment">// Initial scene</span>
k.<span class="hljs-title function_">go</span>(<span class="hljs-string">"main"</span>);<span class="hljs-string">` 
</span></code></pre>
<p class="post__p">You can already imagine how much code these files can end up having.</p>
<h2 class="post__h2">Exporting our Instance</h2>
<p class="post__p">Before we start separating our files, we should begin by exporting our Kaboom instance. I will do this using <code>export</code> <code>k</code>:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">kaboom</span>();
<span class="hljs-comment">// ...</span>
</code></pre>
<h3 class="post__h3">If you don't use the prefix</h3>
<p class="post__p">If you use global functions, it is equally necessary to perform the export step. Then you can continue using global functions (e.g., <code>add()</code> instead of <code>k.add()</code>).</p>
<h2 class="post__h2">Separating our Asset Loading</h2>
<p class="post__p">The easiest way to start is by separating the file imports; it will take a lot of lines off our shoulders. We will create a file where we will have the asset loading, for example, <code>loader.js</code></p>
<pre><code class="language-js hljs language-javascript">
<span class="hljs-comment">// loader.js</span>
<span class="hljs-keyword">import</span> { k } <span class="hljs-keyword">from</span> <span class="hljs-string">"./main"</span>;

<span class="hljs-comment">// It is important to export our function</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadAssets</span> = (<span class="hljs-params"></span>) =&gt; {
    k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"player"</span>, <span class="hljs-string">"sprites/player.png"</span>);
    k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"enemy"</span>, <span class="hljs-string">"sprites/enemy.png"</span>);
    k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"bullet"</span>, <span class="hljs-string">"sprites/bullet.png"</span>);
    k.<span class="hljs-title function_">loadSprite</span>(<span class="hljs-string">"gun"</span>, <span class="hljs-string">"sprites/gun.png"</span>);
    k.<span class="hljs-title function_">loadSound</span>(<span class="hljs-string">"shoot"</span>, <span class="hljs-string">"sounds/shoot.wav"</span>);
}
</code></pre>
<p class="post__p">Now, we import it into our <code>main.js</code> file</p>
<pre><code class="language-js hljs language-javascript">
<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> kaboom <span class="hljs-keyword">from</span> <span class="hljs-string">"kaboom.js"</span>;
<span class="hljs-keyword">import</span> { loadAssets } <span class="hljs-keyword">from</span> <span class="hljs-string">"./loader.js"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">kaboom</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>,
    <span class="hljs-attr">scale</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">background</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
});

<span class="hljs-title function_">loadAssets</span>();

k.<span class="hljs-title function_">scene</span>(<span class="hljs-string">"main"</span>, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/*...*/</span> });
k.<span class="hljs-title function_">scene</span>(<span class="hljs-string">"gameover"</span>, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/*...*/</span> });

k.<span class="hljs-title function_">go</span>(<span class="hljs-string">"main"</span>);
</code></pre>
<p class="post__p">This way, we are already loading our assets from a different file. We use a function because we need to execute that code after the Kaboom instance is created; you will see that it is a pattern that repeats.</p>
<h2 class="post__h2">Separating our Scenes</h2>
<p class="post__p">The next logical step will be to separate our scenes, inside a folder, for example, <code>scenes/</code>, and from here, we will put our files. Let's see an example with the main scene.</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// scenes/main.js</span>
<span class="hljs-keyword">import</span> { k } <span class="hljs-keyword">from</span> <span class="hljs-string">"../main"</span>;

<span class="hljs-comment">// Export a function, which will simply create the scene</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadMainScene</span> = (<span class="hljs-params"></span>) =&gt; k.<span class="hljs-title function_">scene</span>(<span class="hljs-string">"main"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> bean = k.<span class="hljs-title function_">add</span>([
        k.<span class="hljs-title function_">pos</span>(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>),
        k.<span class="hljs-title function_">sprite</span>(<span class="hljs-string">"bean"</span>),
    ]);

    <span class="hljs-keyword">const</span> gun = bean.<span class="hljs-title function_">add</span>([
        k.<span class="hljs-title function_">pos</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>),
        k.<span class="hljs-title function_">sprite</span>(<span class="hljs-string">"gun"</span>),
    ]);
});
</code></pre>
<p class="post__p">And we can replicate this for multiple scenes. Now, we simply load them in our main file.</p>
<pre><code class="language-js hljs language-javascript">
<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> kaboom <span class="hljs-keyword">from</span> <span class="hljs-string">"kaboom.js"</span>;
<span class="hljs-keyword">import</span> { loadAssets } <span class="hljs-keyword">from</span> <span class="hljs-string">"./loader.js"</span>;
<span class="hljs-keyword">import</span> { loadMainScene } <span class="hljs-keyword">from</span> <span class="hljs-string">"./scenes/main.js"</span>;
<span class="hljs-keyword">import</span> { loadGameOverScene } <span class="hljs-keyword">from</span> <span class="hljs-string">"./scenes/gameover.js"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> k = <span class="hljs-title function_">kaboom</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>,
    <span class="hljs-attr">scale</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">background</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
});

<span class="hljs-title function_">loadAssets</span>();
<span class="hljs-title function_">loadMainScene</span>();
<span class="hljs-title function_">loadGameOverScene</span>();

k.<span class="hljs-title function_">go</span>(<span class="hljs-string">"main"</span>);
</code></pre>
<p class="post__p">This way, we have modularized our different scenes; our code starts to be more organized.</p>
<p class="post__p">I will write a blog about how to separate objects soon since I think it's an extensive topic, and there are many ways to organize it. This is my first tutorial blog; I hope you can support it.</p>
        
    </main>
</article>

    <div class="window__nothing">
        <p class="window__nothing-text"><i class="fa-solid fa-ghost"></i></p>
    </div>
</div>
</div>

    </main>

    <script src="/scripts/main.js"></script>


</body></html>